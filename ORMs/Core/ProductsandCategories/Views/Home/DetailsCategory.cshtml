@model List<Product>
<div class="container">
    <h1 style="text-align: center;">@ViewBag.category.Name</h1>
    <div class="row">
        <div class="col-md-6">
            <h2>Products</h2>
            @if (ViewBag.category.CategoryAssociated != null)
            {
                foreach (var pa in ViewBag.category.CategoryAssociated)
                {
                    <p>@pa.AssociatedProduct.Name</p>
                }
            }
        </div>

        <div class="col-md-6">
            <h2>All Products</h2>

            <form asp-action="AddProductToCategory" method="post">
                <div class="form-group">
                    <input type="hidden" name="CategoryId" value="@ViewBag.category.CategoryId">
                    <label for="ProductId" class="control-label">Add Products</label>
                    <select id="ProductId" name="ProductId" class="form-control">
                        <option value="">------Select a Product-------</option>
                        @foreach (Product p in Model)
                        {
                            <option value="@p.ProductId">@p.Name</option>
                        }
                    </select>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Add</button>
                </div>
            </form>

        </div>
    </div>
</div>
